{% extends "admin/base_site.html" %} {% block content %} {% load static %}
<!-- HTML -->
<div id="deck-gl-canvas">
  <!-- This code handles the gmn hamburger menu -->
  <div id="legend-top">
    <div
      id="hamburger-button"
      onclick="this.parentElement.classList.toggle('hamburger-open')"
    >
      <div id="hamburger-button-innner">
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
      </div>
    </div>
    <div id="gmn-wrapper">
      <h4>Other:</h4>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleWellValue('complete_bro', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-complete_bro">
          <input
            type="checkbox"
            class="mapbox-checkbox default-indeterminate"
            id="checkbox-complete_bro"
            name="checkbox-complete_bro"
            onclick="handleWellValueCheckboxClick(this)"
          />
          Complete bro
        </label>
      </div>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleWellValue('deliver_gmw_to_bro', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-deliver_gmw_to_bro">
          <input
            type="checkbox"
            class="mapbox-checkbox default-indeterminate"
            id="checkbox-deliver_gmw_to_bro"
            name="checkbox-deliver_gmw_to_bro"
            onclick="handleWellValueCheckboxClick(this)"
          />
          Deliver GMW to BRO
        </label>
      </div>
      <hr />
      <h4>GMN's:</h4>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleGmnClick('noLinked', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-no-linked">
          <input
            type="checkbox"
            class="mapbox-checkbox"
            id="checkbox-no-linked"
            name="checkbox-no-linked"
            checked
            onclick="handleCheckboxClick(this)"
          />
          No linked GMN
        </label>
      </div>
      {% for gmn in gmns %}
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleGmnClick('{{ gmn }}', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-{{gmn}}">
          <input
            type="checkbox"
            class="mapbox-checkbox"
            id="checkbox-{{gmn}}"
            name="checkbox-{{gmn}}"
            checked
            onclick="handleCheckboxClick(this)"
          />
          {{gmn}}
        </label>
      </div>
      {% endfor %}
    </div>
  </div>

  <div id="legend-bottom">
    <h4>Organisations:</h4>
    {% for organisation in organisations %}
    <div
      class="mapbox-checkbox-wrapper"
      onclick="event.preventDefault(); handleOrganisationClick('{{ organisation.id }}', this)"
    >
      <label class="mapbox-checkbox-label" for="checkbox-{{organisation.id}}">
        <input
          type="checkbox"
          class="mapbox-checkbox"
          id="checkbox-{{organisation.id}}"
          name="checkbox-{{organisation.id}}"
          checked
          onclick="handleCheckboxClick(this)"
        />
        {{organisation.name}}
      </label>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Add json information -->
<div class="json">{{ wells|json_script:"wells_json" }}</div>
<div class="json">{{ gmns|json_script:"gmns_json" }}</div>
<div class="json">{{ organisations|json_script:"organisations_json" }}</div>
<div class="json">
  {{ groundwater_level_dossiers|json_script:"groundwater_level_dossiers_json" }}
</div>

<!-- Link to css -->
<link href="{% static 'gmw/gmw_map.css' %}" rel="stylesheet" />

<!-- Link to packages -->
<link
  href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.css"
  rel="stylesheet"
/>
<script src="
https://unpkg.com/deck.gl@8.9.35/dist.min.js"></script>
<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>

<!-- Link to javascript -->
<script src="{% static 'gmw/gmw_map.js' %}"></script>

{% endblock %}
