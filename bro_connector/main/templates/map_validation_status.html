{% extends "admin/base_site.html" %} {% block content %} {% load static %}
<!-- HTML -->
<div id="deck-gl-canvas">
  <!-- SEARCH -->
  <div id="search-top-left">
    <input
      type="text"
      id="search-input"
      placeholder="Zoek naar een put..."
      title="Je kunt zoeken op BRO id, putcode, nitg code of label"
    />
    <div id="search-options" class="hide">
      {% for well in wells %}
      <div
        data-keyword="`{{well.bro_id}} {{well.well_code}} {{well.nitg_code}}`"
        class="search-option"
        data-label="{{well.label}}"
        data-id="{{well.groundwater_monitoring_well_static_id}}"
        onclick="event.preventDefault(); handleSearchValue(this)"
      >
        {{well.label}}
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- BUTTONS -->
  <div id="toggle-text-layer-btn">
    <button
        id="validation-map-btn"
        type="button"
        onclick="event.stopPropagation(); switchToBaseMap()">
        Normale modus
    </button>
    <button
        id="toggle-text-layer"
        type="button"
        onclick="event.stopPropagation(); toggleTextLayerVisibility()">
        Labels
    </button>
  </div>

  <!-- This code handles the gmn hamburger menu -->
  <div id="legend-top">
    <div
      id="hamburger-button"
      onclick="this.parentElement.classList.toggle('hamburger-open')"
    >
      <div id="hamburger-button-innner">
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
      </div>
    </div>
    <div id="type-wrapper">
      <h4>Type Meting:</h4>
      <div class="mapbox-checkbox-wrapper" onclick="event.preventDefault();">
        <label class="mapbox-button-deselect" for="checkbox-button-all">
          <button
            type="button"
            onclick="event.stopPropagation(); deselectAllCheckboxes()"
          >
            (De)selecteer alles
          </button>
        </label>
      </div>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleTypeClick('no_obs', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-no_obs">
          <input
            type="checkbox"
            class="mapbox-checkbox"
            id="checkbox-no_obs"
            name="checkbox-no_obs"
            checked
            onclick="handleCheckboxClick(this)"
          />
          Geen meting
        </label>
      </div>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleTypeClick('controle', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-controle">
          <input
            type="checkbox"
            class="mapbox-checkbox"
            id="checkbox-controle"
            name="checkbox-controle"
            checked
            onclick="handleCheckboxClick(this)"
          />
          Controle meting
        </label>
      </div>
      <div
        class="mapbox-checkbox-wrapper"
        onclick="event.preventDefault(); handleTypeClick('regular', this)"
      >
        <label class="mapbox-checkbox-label" for="checkbox-regular">
          <input
            type="checkbox"
            class="mapbox-checkbox"
            id="checkbox-regular"
            name="checkbox-regular"
            checked
            onclick="handleCheckboxClick(this)"
          />
          Reguliere meting
        </label>
      </div>
    </div>
  </div>
</div>

<!-- Add json information -->
<div class="json">{{ wells|json_script:"wells_json" }}</div>
<div class="json">{{ glds|json_script:"glds_json" }}</div>
<div class="json">{{ map_center|json_script:"map_center_json" }}</div>

<!-- Link to css -->
<link href="{% static 'gmw/gmw_map_validation.css' %}" rel="stylesheet" />

<!-- Link to packages -->
<link
  href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.css"
  rel="stylesheet"
/>
<script src="
https://unpkg.com/deck.gl@8.9.35/dist.min.js"></script>
<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>

<!-- Link to javascript -->
<script src="{% static 'gmw/gmw_map_validation.js' %}"></script>

{% endblock %}
